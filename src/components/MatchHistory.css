/* =========================
   MatchHistory.css (FULL)
   - Winner pill clipped (no overlap)
   - Ready for extra "Tournament" filter
   ========================= */

/* shell + particles */
.mhfx-shell{ position:relative; width:100%; padding:24px 10px; }
#mhfx-particles{ position:absolute; inset:0; pointer-events:none; z-index:0; }

/* glass card */
.mhfx-glass{
  position:relative; z-index:1;
  border-radius:18px; padding:18px 12px;
  background:
    radial-gradient(900px 380px at 8% -10%, rgba(0,255,170,.08), transparent 60%),
    linear-gradient(180deg, rgba(13,31,47,.78), rgba(10,23,36,.68));
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 18px 50px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
}

/* header */
.mhfx-header{
  display:flex; gap:10px; align-items:baseline; justify-content:center; margin-bottom:10px;
}
.mhfx-title{
  font-weight:800; letter-spacing:.3px; color:#bffcff;
  font-size:clamp(18px,2.2vw,24px);
  text-shadow:0 2px 12px rgba(0,255,170,.25);
}
.mhfx-sub{ color:#9bb2c8; font-size:13px; }

/* scopebar spacing */
.mhfx-scope{ margin:6px 6px 6px; }

/* filters â€” includes space for Tournament */
.mhfx-filters{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr 1fr auto; /* room for Tournament */
  gap:10px; margin:8px 6px 18px;
}
.mhfx-filters select,
.mhfx-filters input{
  background: rgba(255,255,255,.06);
  color:#eaf6ff;
  border:1px solid rgba(255,255,255,.12);
  border-radius:10px; padding:10px 12px; outline:none;
  transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
.mhfx-filters input::placeholder{ color:#a8c1d8; }
.mhfx-filters select:focus,
.mhfx-filters input:focus{
  border-color:#14e29a;
  box-shadow:0 0 0 3px rgba(20,226,154,.22);
  background: rgba(255,255,255,.08);
}
.mhfx-filters .btns{ display:flex; gap:10px; justify-content:flex-end; }
.mhfx-filters .btn{
  background: rgba(255,255,255,.06); color:#eaf6ff; border:1px solid rgba(255,255,255,.12);
  border-radius:10px; padding:10px 14px; cursor:pointer;
  transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease, border-color .15s ease;
}
.mhfx-filters .btn:hover{ transform: translateY(-1px); box-shadow:0 8px 16px rgba(0,0,0,.25); }
.mhfx-filters .btn:focus{ outline:none; border-color:#14e29a; box-shadow:0 0 0 3px rgba(20,226,154,.22); }
.mhfx-filters .btn.primary{
  background: linear-gradient(180deg,#14e29a,#00c986); color:#041a16; border-color:transparent;
}

/* table */
.mhfx-table-wrap{ overflow-x:auto; padding:0 6px; }
.mhfx-table{
  width:100%; border-collapse:separate; table-layout:fixed;
  border-spacing:0 8px; background:transparent !important; margin:0;
}
.mhfx-table thead tr{ background:transparent !important; box-shadow:none !important; }
.mhfx-table thead th{
  background: linear-gradient(180deg,#102437,#0d1f2f) !important;
  color:#dff2ff !important; font-weight:700; font-size:14px; letter-spacing:.2px;
  padding:12px 10px; border:1px solid rgba(255,255,255,.08) !important; border-bottom:0 !important;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.mhfx-table thead th:first-child{ border-top-left-radius:12px; border-bottom-left-radius:12px; }
.mhfx-table thead th:last-child { border-top-right-radius:12px; border-bottom-right-radius:12px; }
.mhfx-table thead th + th{ border-left-color: rgba(255,255,255,.06) !important; }

.mhfx-table tbody td{
  padding:12px 10px; font-size:15px; color:#eaf6ff; text-align:center; border:0;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  position: relative; /* winner cell uses this for clipping context */
}
.mhfx-table tbody td.left{text-align:left}
.mhfx-table tbody td.right{text-align:right}

/* rows as floating cards */
.mhfx-row{
  background: linear-gradient(180deg, rgba(17,32,48,.62), rgba(10,23,35,.52));
  border:1px solid rgba(255,255,255,.07); border-radius:12px;
  box-shadow:0 10px 24px rgba(0,0,0,.32);
  transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease;
  will-change: transform, box-shadow;
  overflow:hidden; /* guarantees children don't spill */
}
.mhfx-row:hover{ transform: translateY(-2px); box-shadow:0 16px 32px rgba(0,0,0,.38); }

.idx{ color:#c9ffef; font-weight:700; }

/* =========================
   Winner (non-overlapping)
   ========================= */
.mhfx-winner{
  position: relative;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  overflow: hidden;   /* clip inside cell */
  contain: paint;     /* isolate painting */
  isolation: isolate; /* new stacking context */
}

/* Compact pill with subtle sheen, capped width */
.mhfx-winner .win-pill{
  position: relative;
  z-index: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  white-space: nowrap;
  max-width: 92%;
  padding: 6px 10px;
  margin: 0 auto;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(4px);
  box-shadow: 0 2px 8px rgba(0,0,0,.22);
}
.mhfx-winner .win-pill::before{
  content:"";
  position:absolute; inset:0; border-radius:inherit;
  background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,.28) 50%, transparent 60%);
  background-size: 140% 100%;
  animation: mhfx-sheen 3s linear infinite;
  opacity:.55;
  pointer-events:none;
  mix-blend-mode:screen;
}
@keyframes mhfx-sheen{ 0%{background-position:0 0} 100%{background-position:140% 0} }

.mhfx-winner .trophy{ filter: drop-shadow(0 1px 3px rgba(0,0,0,.25)); }
.mhfx-winner .name{ font-weight:800; }

/* Kill legacy comet/sparkle layers completely */
.mhfx-winner .win-track,
.mhfx-winner .win-bar,
.mhfx-winner .win-bar .win-head,
.mhfx-winner .spark{ display:none !important; }

/* skeleton loading */
.skeleton td{
  height:60px;
  background: linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.08), rgba(255,255,255,.04));
  background-size:200% 100%;
  animation: shimmer 1.2s infinite linear;
  border-radius:12px;
}
@keyframes shimmer{ 0%{ background-position:0 0 } 100%{ background-position:-200% 0 } }

/* responsive */
@media (max-width: 960px){
  .mhfx-filters{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 680px){
  .mhfx-filters{ grid-template-columns:1fr; }
  /* compact: hide raw score columns to keep essentials visible */
  .mhfx-table thead th:nth-child(5),
  .mhfx-table thead th:nth-child(7),
  .mhfx-table tbody td:nth-child(5),
  .mhfx-table tbody td:nth-child(7){ display:none; }
}

/* --- Dark theme for native <select> popup + options (overrides) --- */
.mhfx-filters select{
  background-color: rgba(14,32,48,.9) !important;
  color: #eaf6ff !important;
  border: 1px solid rgba(255,255,255,.18) !important;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  color-scheme: dark; /* hint browsers to use dark popup */
}
.mhfx-filters select:focus{
  outline: none !important;
  border-color: #14e29a !important;
  box-shadow: 0 0 0 3px rgba(20,226,154,.25) !important;
}
.mhfx-filters select option,
.mhfx-filters select optgroup{
  background-color: #0d1f2f !important;
  color: #eaf6ff !important;
}
.mhfx-filters select option:disabled{ color: #7f95aa !important; }
/* If using Bootstrap's .form-select */
.mhfx-filters .form-select{
  background-color: rgba(14,32,48,.9) !important;
  color: #eaf6ff !important;
  border: 1px solid rgba(255,255,255,.18) !important;
}
.mhfx-filters .form-select option{
  background-color: #0d1f2f !important;
  color: #eaf6ff !important;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce){
  .mhfx-winner .win-pill::before{ animation:none !important; }
  .skeleton td{ animation: none !important; }
}
